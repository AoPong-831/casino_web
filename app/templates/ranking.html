{% extends "base.html" %}
{% block title %}„É©„É≥„Ç≠„É≥„Ç∞„Éö„Éº„Ç∏{% endblock %}

{% block content %}
<div class="ranking-container"><!--ranking-container „ÅØÂÆü„ÅØÂÆüË£Ö„Åó„Å¶„ÅÑ„Å™„ÅÑ-->
    <div class="ranking-header">
        <h1>„ÉÅ„ÉÉ„Éó„É©„É≥„Ç≠„É≥„Ç∞</h1>
        <div class="jp-card">
            <span class="label">Pocker's JP</span>
            <span class="value">{{ "{:,}".format(jp) }}</span>
        </div>
    </div>

    <!-- „Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº -->
    <div id="menu-button">‚ò∞</div>

    <!-- „Çµ„Ç§„Éâ„É°„Éã„É•„Éº -->
    <nav id="side-menu">
        <a href="/ranking">„É©„É≥„Ç≠„É≥„Ç∞</a>
        <a href="/profile/{{ current_user.id }}">„Éû„Ç§„Éö„Éº„Ç∏</a>
        <a href="/calendar">ÈñãÂÇ¨Êó•Á®ãË°®</a>
        <a href="/logout">„É≠„Ç∞„Ç¢„Ç¶„Éà</a>
        {% if current_user.id == 1 %}
            <hr>
            <a href="/ticket_all">„ÉÅ„Ç±„ÉÉ„Éà‰∏ÄË¶ß</a>
            <a href="/import_users">„Ç§„É≥„Éù„Éº„Éà Users</a>
            <a href="/import_logs">„Ç§„É≥„Éù„Éº„Éà Logs</a>
            <a href="/export_users">„Ç®„ÇØ„Çπ„Éù„Éº„Éà Users</a>
            <a href="/export_logs">„Ç®„ÇØ„Çπ„Éù„Éº„Éà Logs</a>
        {% endif %}
    </nav>

    <!-- „Ç™„Éº„Éê„Éº„É¨„Ç§(ËÉåÊôØÁî®) -->
    <div id="overlay"></div>
    
    <div class="ranking-list">
        {% for user in users %}
            <!-- loop.index „ÅØJinja2 „ÅåÊèê‰æõ„Åô„ÇãÁµÑ„ÅøËæº„Åø„ÅÆÂ§âÊï∞„Åß„ÄÅfor „É´„Éº„ÉóÂÜÖ„Åß„ÅÆÁèæÂú®„ÅÆÁπ∞„ÇäËøî„ÅóÂõûÊï∞„Çí1„Åã„ÇâÂßã„Åæ„Çã„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„Å®„Åó„Å¶ÂèñÂæó„Åß„Åç„Çã -->
            <div class="ranking-card {% if loop.index == 1 %}first{% elif loop.index == 2 %}second{% elif loop.index == 3 %}third{% endif %}">
                <div class="rank-badge">
                    <!--È†Ü‰ΩçË°®Á§∫-->
                    {% if loop.index == 1 %}üëë{% elif loop.index == 2 %}ü•à{% elif loop.index == 3 %}ü•â{% else %}{{ loop.index }}{% endif %}
                </div>
                <div class="info">
                    <div class="name">
                        <a href="/profile/{{ user.id }}">
                            <img src="{{ url_for('static', filename = user.icon) }}" alt="no_image" class="user-icon">
                            {{ user.name }}
                        </a>
                    </div>
                    <span class="chip">üí∞ {{ user.chip }}</span>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
<!-- „É©„É≥„Ç≠„É≥„Ç∞„ÅÆÂêçÂâçË°®Á§∫„ÇíË™øÊï¥„Åó„Å¶„Åè„Çå„Çãjs -->
<script src="{{ url_for('static', filename='js/adjustNameFont.js') }}"></script>
{% endblock %}